PS C:\Users\frank\Documents\.dev\v-deployments\applications\postgres\overlays> kubectl get pods -o yaml
apiVersion: v1
items:
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      cnpg.io/nodeSerial: "1"
      cnpg.io/operatorVersion: 1.26.0
      cnpg.io/podEnvHash: 698f7cc45f
      cnpg.io/podSpec: '{"volumes":[{"name":"pgdata","persistentVolumeClaim":{"claimName":"pg-prod-cluster-1"}},{"name":"scratch-data","emptyDir":{}},{"name":"shm","emptyDir":{"medium":"Memory"}},{"name":"pg-wal","persistentVolumeClaim":{"claimName":"pg-prod-cluster-1-wal"}}],"initContainers":[{"name":"bootstrap-controller","image":"ghcr.io/cloudnative-pg/cloudnative-pg:1.26.0","command":["/manager","bootstrap","/controller/manager","--log-level=info"],"resources":{"limits":{"cpu":"2","memory":"4Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"pgdata","mountPath":"/var/lib/postgresql/data"},{"name":"scratch-data","mountPath":"/run"},{"name":"scratch-data","mountPath":"/controller"},{"name":"shm","mountPath":"/dev/shm"},{"name":"pg-wal","mountPath":"/var/lib/postgresql/wal"}],"securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"runAsNonRoot":true,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false,"seccompProfile":{"type":"RuntimeDefault"}}}],"containers":[{"name":"postgres","image":"ghcr.io/cloudnative-pg/postgresql:17.5","command":["/controller/manager","instance","run","--status-port-tls","--log-level=info"],"ports":[{"name":"postgresql","containerPort":5432,"protocol":"TCP"},{"name":"metrics","containerPort":9187,"protocol":"TCP"},{"name":"status","containerPort":8000,"protocol":"TCP"}],"env":[{"name":"PGDATA","value":"/var/lib/postgresql/data/pgdata"},{"name":"POD_NAME","value":"pg-prod-cluster-1"},{"name":"NAMESPACE","value":"pg-01"},{"name":"CLUSTER_NAME","value":"pg-prod-cluster"},{"name":"PSQL_HISTORY","value":"/controller/tmp/.psql_history"},{"name":"PGPORT","value":"5432"},{"name":"PGHOST","value":"/controller/run"},{"name":"TMPDIR","value":"/controller/tmp"}],"resources":{"limits":{"cpu":"2","memory":"4Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"pgdata","mountPath":"/var/lib/postgresql/data"},{"name":"scratch-data","mountPath":"/run"},{"name":"scratch-data","mountPath":"/controller"},{"name":"shm","mountPath":"/dev/shm"},{"name":"pg-wal","mountPath":"/var/lib/postgresql/wal"}],"livenessProbe":{"httpGet":{"path":"/healthz","port":8000,"scheme":"HTTPS"},"timeoutSeconds":5,"periodSeconds":10},"readinessProbe":{"httpGet":{"path":"/readyz","port":8000,"scheme":"HTTPS"},"timeoutSeconds":5,"periodSeconds":10},"startupProbe":{"httpGet":{"path":"/startupz","port":8000,"scheme":"HTTPS"},"timeoutSeconds":5,"periodSeconds":10,"failureThreshold":360},"securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"runAsNonRoot":true,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false,"seccompProfile":{"type":"RuntimeDefault"}}}],"terminationGracePeriodSeconds":1800,"serviceAccountName":"pg-prod-cluster","securityContext":{"runAsUser":26,"runAsGroup":26,"runAsNonRoot":true,"fsGroup":26,"seccompProfile":{"type":"RuntimeDefault"}},"hostname":"pg-prod-cluster-1","affinity":{"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchExpressions":[{"key":"cnpg.io/cluster","operator":"In","values":["pg-prod-cluster"]},{"key":"cnpg.io/podRole","operator":"In","values":["instance"]}]},"topologyKey":"kubernetes.io/hostname"}}]}}}'
    creationTimestamp: "2025-06-02T00:27:13Z"
    labels:
      cnpg.io/cluster: pg-prod-cluster
      cnpg.io/instanceName: pg-prod-cluster-1
      cnpg.io/instanceRole: primary
      cnpg.io/podRole: instance
      role: primary
    name: pg-prod-cluster-1
    namespace: pg-01
    ownerReferences:
    - apiVersion: postgresql.cnpg.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: Cluster
      name: pg-prod-cluster
      uid: 4274250b-740d-4132-915e-608077849f60
    resourceVersion: "15187907"
    uid: 97ecb89c-66d4-4267-8254-7f77b2344d1a
  spec:
    affinity:
      podAntiAffinity:
        preferredDuringSchedulingIgnoredDuringExecution:
        - podAffinityTerm:
            labelSelector:
              matchExpressions:
              - key: cnpg.io/cluster
                operator: In
                values:
                - pg-prod-cluster
              - key: cnpg.io/podRole
                operator: In
                values:
                - instance
            topologyKey: kubernetes.io/hostname
          weight: 100
    containers:
    - command:
      - /controller/manager
      - instance
      - run
      - --status-port-tls
      - --log-level=info
      env:
      - name: PGDATA
        value: /var/lib/postgresql/data/pgdata
      - name: POD_NAME
        value: pg-prod-cluster-1
      - name: NAMESPACE
        value: pg-01
      - name: CLUSTER_NAME
        value: pg-prod-cluster
      - name: PSQL_HISTORY
        value: /controller/tmp/.psql_history
      - name: PGPORT
        value: "5432"
      - name: PGHOST
        value: /controller/run
      - name: TMPDIR
        value: /controller/tmp
      image: ghcr.io/cloudnative-pg/postgresql:17.5
      imagePullPolicy: IfNotPresent
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /healthz
          port: 8000
          scheme: HTTPS
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 5
      name: postgres
      ports:
      - containerPort: 5432
        name: postgresql
        protocol: TCP
      - containerPort: 9187
        name: metrics
        protocol: TCP
      - containerPort: 8000
        name: status
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /readyz
          port: 8000
          scheme: HTTPS
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 5
      resources:
        limits:
          cpu: "2"
          memory: 4Gi
        requests:
          cpu: "1"
          memory: 2Gi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        privileged: false
        readOnlyRootFilesystem: true
        runAsNonRoot: true
        seccompProfile:
          type: RuntimeDefault
      startupProbe:
        failureThreshold: 360
        httpGet:
          path: /startupz
          port: 8000
          scheme: HTTPS
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 5
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/lib/postgresql/data
        name: pgdata
      - mountPath: /run
        name: scratch-data
      - mountPath: /controller
        name: scratch-data
      - mountPath: /dev/shm
        name: shm
      - mountPath: /var/lib/postgresql/wal
        name: pg-wal
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-tb2bc
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    hostname: pg-prod-cluster-1
    initContainers:
    - command:
      - /manager
      - bootstrap
      - /controller/manager
      - --log-level=info
      image: ghcr.io/cloudnative-pg/cloudnative-pg:1.26.0
      imagePullPolicy: IfNotPresent
      name: bootstrap-controller
      resources:
        limits:
          cpu: "2"
          memory: 4Gi
        requests:
          cpu: "1"
          memory: 2Gi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        privileged: false
        readOnlyRootFilesystem: true
        runAsNonRoot: true
        seccompProfile:
          type: RuntimeDefault
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/lib/postgresql/data
        name: pgdata
      - mountPath: /run
        name: scratch-data
      - mountPath: /controller
        name: scratch-data
      - mountPath: /dev/shm
        name: shm
      - mountPath: /var/lib/postgresql/wal
        name: pg-wal
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-tb2bc
        readOnly: true
    nodeName: mgmt-worker-02
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 26
      runAsGroup: 26
      runAsNonRoot: true
      runAsUser: 26
      seccompProfile:
        type: RuntimeDefault
    serviceAccount: pg-prod-cluster
    serviceAccountName: pg-prod-cluster
    terminationGracePeriodSeconds: 1800
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - name: pgdata
      persistentVolumeClaim:
        claimName: pg-prod-cluster-1
    - emptyDir: {}
      name: scratch-data
    - emptyDir:
        medium: Memory
      name: shm
    - name: pg-wal
      persistentVolumeClaim:
        claimName: pg-prod-cluster-1-wal
    - name: kube-api-access-tb2bc
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2025-06-02T00:27:17Z"
      status: "True"
      type: PodReadyToStartContainers
    - lastProbeTime: null
      lastTransitionTime: "2025-06-02T00:27:17Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2025-06-02T00:27:27Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2025-06-02T00:27:27Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2025-06-02T00:27:13Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://c03670874556e6bd10cab73a16baa91f2e45de631bcaf85e85d7abef52edd3e9
      image: ghcr.io/cloudnative-pg/postgresql:17.5
      imageID: ghcr.io/cloudnative-pg/postgresql@sha256:857313fcb91856c8eb7e8d281c732174b01b495b0fce2ac81bd464e6162b2260
      lastState: {}
      name: postgres
      ready: true
      restartCount: 0
      started: true
      state:
        running:
          startedAt: "2025-06-02T00:27:17Z"
      volumeMounts:
      - mountPath: /var/lib/postgresql/data
        name: pgdata
      - mountPath: /run
        name: scratch-data
      - mountPath: /controller
        name: scratch-data
      - mountPath: /dev/shm
        name: shm
      - mountPath: /var/lib/postgresql/wal
        name: pg-wal
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-tb2bc
        readOnly: true
        recursiveReadOnly: Disabled
    hostIP: 10.1.45.42
    hostIPs:
    - ip: 10.1.45.42
    initContainerStatuses:
    - containerID: containerd://bf8260f56692b48a491613102a2ed4de0ef132b7d6edfdff7dbf9f5ba5349ba5
      image: ghcr.io/cloudnative-pg/cloudnative-pg:1.26.0
      imageID: ghcr.io/cloudnative-pg/cloudnative-pg@sha256:927d7a8a1f32fe4c1e19665dc36d988f26207d7b7fce81b5e5af2ee0cd18aeef
      lastState: {}
      name: bootstrap-controller
      ready: true
      restartCount: 0
      started: false
      state:
        terminated:
          containerID: containerd://bf8260f56692b48a491613102a2ed4de0ef132b7d6edfdff7dbf9f5ba5349ba5
          exitCode: 0
          finishedAt: "2025-06-02T00:27:17Z"
          reason: Completed
          startedAt: "2025-06-02T00:27:17Z"
      volumeMounts:
      - mountPath: /var/lib/postgresql/data
        name: pgdata
      - mountPath: /run
        name: scratch-data
      - mountPath: /controller
        name: scratch-data
      - mountPath: /dev/shm
        name: shm
      - mountPath: /var/lib/postgresql/wal
        name: pg-wal
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-tb2bc
        readOnly: true
        recursiveReadOnly: Disabled
    phase: Running
    podIP: 10.244.0.254
    podIPs:
    - ip: 10.244.0.254
    qosClass: Burstable
    startTime: "2025-06-02T00:27:14Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      cnpg.io/nodeSerial: "2"
      cnpg.io/operatorVersion: 1.26.0
      cnpg.io/podEnvHash: 5c76f9dcc6
      cnpg.io/podSpec: '{"volumes":[{"name":"pgdata","persistentVolumeClaim":{"claimName":"pg-prod-cluster-2"}},{"name":"scratch-data","emptyDir":{}},{"name":"shm","emptyDir":{"medium":"Memory"}},{"name":"pg-wal","persistentVolumeClaim":{"claimName":"pg-prod-cluster-2-wal"}}],"initContainers":[{"name":"bootstrap-controller","image":"ghcr.io/cloudnative-pg/cloudnative-pg:1.26.0","command":["/manager","bootstrap","/controller/manager","--log-level=info"],"resources":{"limits":{"cpu":"2","memory":"4Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"pgdata","mountPath":"/var/lib/postgresql/data"},{"name":"scratch-data","mountPath":"/run"},{"name":"scratch-data","mountPath":"/controller"},{"name":"shm","mountPath":"/dev/shm"},{"name":"pg-wal","mountPath":"/var/lib/postgresql/wal"}],"securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"runAsNonRoot":true,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false,"seccompProfile":{"type":"RuntimeDefault"}}}],"containers":[{"name":"postgres","image":"ghcr.io/cloudnative-pg/postgresql:17.5","command":["/controller/manager","instance","run","--status-port-tls","--log-level=info"],"ports":[{"name":"postgresql","containerPort":5432,"protocol":"TCP"},{"name":"metrics","containerPort":9187,"protocol":"TCP"},{"name":"status","containerPort":8000,"protocol":"TCP"}],"env":[{"name":"PGDATA","value":"/var/lib/postgresql/data/pgdata"},{"name":"POD_NAME","value":"pg-prod-cluster-2"},{"name":"NAMESPACE","value":"pg-01"},{"name":"CLUSTER_NAME","value":"pg-prod-cluster"},{"name":"PSQL_HISTORY","value":"/controller/tmp/.psql_history"},{"name":"PGPORT","value":"5432"},{"name":"PGHOST","value":"/controller/run"},{"name":"TMPDIR","value":"/controller/tmp"}],"resources":{"limits":{"cpu":"2","memory":"4Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"pgdata","mountPath":"/var/lib/postgresql/data"},{"name":"scratch-data","mountPath":"/run"},{"name":"scratch-data","mountPath":"/controller"},{"name":"shm","mountPath":"/dev/shm"},{"name":"pg-wal","mountPath":"/var/lib/postgresql/wal"}],"livenessProbe":{"httpGet":{"path":"/healthz","port":8000,"scheme":"HTTPS"},"timeoutSeconds":5,"periodSeconds":10},"readinessProbe":{"httpGet":{"path":"/readyz","port":8000,"scheme":"HTTPS"},"timeoutSeconds":5,"periodSeconds":10},"startupProbe":{"httpGet":{"path":"/startupz","port":8000,"scheme":"HTTPS"},"timeoutSeconds":5,"periodSeconds":10,"failureThreshold":360},"securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"runAsNonRoot":true,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false,"seccompProfile":{"type":"RuntimeDefault"}}}],"terminationGracePeriodSeconds":1800,"serviceAccountName":"pg-prod-cluster","securityContext":{"runAsUser":26,"runAsGroup":26,"runAsNonRoot":true,"fsGroup":26,"seccompProfile":{"type":"RuntimeDefault"}},"hostname":"pg-prod-cluster-2","affinity":{"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchExpressions":[{"key":"cnpg.io/cluster","operator":"In","values":["pg-prod-cluster"]},{"key":"cnpg.io/podRole","operator":"In","values":["instance"]}]},"topologyKey":"kubernetes.io/hostname"}}]}}}'
    creationTimestamp: "2025-06-02T00:27:49Z"
    labels:
      cnpg.io/cluster: pg-prod-cluster
      cnpg.io/instanceName: pg-prod-cluster-2
      cnpg.io/instanceRole: replica
      cnpg.io/podRole: instance
      role: replica
    name: pg-prod-cluster-2
    namespace: pg-01
    ownerReferences:
    - apiVersion: postgresql.cnpg.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: Cluster
      name: pg-prod-cluster
      uid: 4274250b-740d-4132-915e-608077849f60
    resourceVersion: "15188321"
    uid: e66c7939-b513-4cf7-856c-d3ca598b899a
  spec:
    affinity:
      podAntiAffinity:
        preferredDuringSchedulingIgnoredDuringExecution:
        - podAffinityTerm:
            labelSelector:
              matchExpressions:
              - key: cnpg.io/cluster
                operator: In
                values:
                - pg-prod-cluster
              - key: cnpg.io/podRole
                operator: In
                values:
                - instance
            topologyKey: kubernetes.io/hostname
          weight: 100
    containers:
    - command:
      - /controller/manager
      - instance
      - run
      - --status-port-tls
      - --log-level=info
      env:
      - name: PGDATA
        value: /var/lib/postgresql/data/pgdata
      - name: POD_NAME
        value: pg-prod-cluster-2
      - name: NAMESPACE
        value: pg-01
      - name: CLUSTER_NAME
        value: pg-prod-cluster
      - name: PSQL_HISTORY
        value: /controller/tmp/.psql_history
      - name: PGPORT
        value: "5432"
      - name: PGHOST
        value: /controller/run
      - name: TMPDIR
        value: /controller/tmp
      image: ghcr.io/cloudnative-pg/postgresql:17.5
      imagePullPolicy: IfNotPresent
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /healthz
          port: 8000
          scheme: HTTPS
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 5
      name: postgres
      ports:
      - containerPort: 5432
        name: postgresql
        protocol: TCP
      - containerPort: 9187
        name: metrics
        protocol: TCP
      - containerPort: 8000
        name: status
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /readyz
          port: 8000
          scheme: HTTPS
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 5
      resources:
        limits:
          cpu: "2"
          memory: 4Gi
        requests:
          cpu: "1"
          memory: 2Gi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        privileged: false
        readOnlyRootFilesystem: true
        runAsNonRoot: true
        seccompProfile:
          type: RuntimeDefault
      startupProbe:
        failureThreshold: 360
        httpGet:
          path: /startupz
          port: 8000
          scheme: HTTPS
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 5
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/lib/postgresql/data
        name: pgdata
      - mountPath: /run
        name: scratch-data
      - mountPath: /controller
        name: scratch-data
      - mountPath: /dev/shm
        name: shm
      - mountPath: /var/lib/postgresql/wal
        name: pg-wal
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-6v2x8
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    hostname: pg-prod-cluster-2
    initContainers:
    - command:
      - /manager
      - bootstrap
      - /controller/manager
      - --log-level=info
      image: ghcr.io/cloudnative-pg/cloudnative-pg:1.26.0
      imagePullPolicy: IfNotPresent
      name: bootstrap-controller
      resources:
        limits:
          cpu: "2"
          memory: 4Gi
        requests:
          cpu: "1"
          memory: 2Gi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        privileged: false
        readOnlyRootFilesystem: true
        runAsNonRoot: true
        seccompProfile:
          type: RuntimeDefault
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/lib/postgresql/data
        name: pgdata
      - mountPath: /run
        name: scratch-data
      - mountPath: /controller
        name: scratch-data
      - mountPath: /dev/shm
        name: shm
      - mountPath: /var/lib/postgresql/wal
        name: pg-wal
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-6v2x8
        readOnly: true
    nodeName: mgmt-worker-01
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 26
      runAsGroup: 26
      runAsNonRoot: true
      runAsUser: 26
      seccompProfile:
        type: RuntimeDefault
    serviceAccount: pg-prod-cluster
    serviceAccountName: pg-prod-cluster
    terminationGracePeriodSeconds: 1800
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - name: pgdata
      persistentVolumeClaim:
        claimName: pg-prod-cluster-2
    - emptyDir: {}
      name: scratch-data
    - emptyDir:
        medium: Memory
      name: shm
    - name: pg-wal
      persistentVolumeClaim:
        claimName: pg-prod-cluster-2-wal
    - name: kube-api-access-6v2x8
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2025-06-02T00:27:54Z"
      status: "True"
      type: PodReadyToStartContainers
    - lastProbeTime: null
      lastTransitionTime: "2025-06-02T00:27:54Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2025-06-02T00:28:04Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2025-06-02T00:28:04Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2025-06-02T00:27:49Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://e17c9bd53b0337e39b5b4a3364d53663d40f395cdd322812aa8bbbdac5755144
      image: ghcr.io/cloudnative-pg/postgresql:17.5
      imageID: ghcr.io/cloudnative-pg/postgresql@sha256:857313fcb91856c8eb7e8d281c732174b01b495b0fce2ac81bd464e6162b2260
      lastState: {}
      name: postgres
      ready: true
      restartCount: 0
      started: true
      state:
        running:
          startedAt: "2025-06-02T00:27:54Z"
      volumeMounts:
      - mountPath: /var/lib/postgresql/data
        name: pgdata
      - mountPath: /run
        name: scratch-data
      - mountPath: /controller
        name: scratch-data
      - mountPath: /dev/shm
        name: shm
      - mountPath: /var/lib/postgresql/wal
        name: pg-wal
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-6v2x8
        readOnly: true
        recursiveReadOnly: Disabled
    hostIP: 10.1.45.41
    hostIPs:
    - ip: 10.1.45.41
    initContainerStatuses:
    - containerID: containerd://5728bdcfd5ae72e4f9b21ee4b78bed0b9fd54c1f2192ab145777bf4a0e72ea96
      image: ghcr.io/cloudnative-pg/cloudnative-pg:1.26.0
      imageID: ghcr.io/cloudnative-pg/cloudnative-pg@sha256:927d7a8a1f32fe4c1e19665dc36d988f26207d7b7fce81b5e5af2ee0cd18aeef
      lastState: {}
      name: bootstrap-controller
      ready: true
      restartCount: 0
      started: false
      state:
        terminated:
          containerID: containerd://5728bdcfd5ae72e4f9b21ee4b78bed0b9fd54c1f2192ab145777bf4a0e72ea96
          exitCode: 0
          finishedAt: "2025-06-02T00:27:54Z"
          reason: Completed
          startedAt: "2025-06-02T00:27:54Z"
      volumeMounts:
      - mountPath: /var/lib/postgresql/data
        name: pgdata
      - mountPath: /run
        name: scratch-data
      - mountPath: /controller
        name: scratch-data
      - mountPath: /dev/shm
        name: shm
      - mountPath: /var/lib/postgresql/wal
        name: pg-wal
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-6v2x8
        readOnly: true
        recursiveReadOnly: Disabled
    phase: Running
    podIP: 10.244.4.102
    podIPs:
    - ip: 10.244.4.102
    qosClass: Burstable
    startTime: "2025-06-02T00:27:49Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      cnpg.io/nodeSerial: "3"
      cnpg.io/operatorVersion: 1.26.0
      cnpg.io/podEnvHash: b47c94c5c
      cnpg.io/podSpec: '{"volumes":[{"name":"pgdata","persistentVolumeClaim":{"claimName":"pg-prod-cluster-3"}},{"name":"scratch-data","emptyDir":{}},{"name":"shm","emptyDir":{"medium":"Memory"}},{"name":"pg-wal","persistentVolumeClaim":{"claimName":"pg-prod-cluster-3-wal"}}],"initContainers":[{"name":"bootstrap-controller","image":"ghcr.io/cloudnative-pg/cloudnative-pg:1.26.0","command":["/manager","bootstrap","/controller/manager","--log-level=info"],"resources":{"limits":{"cpu":"2","memory":"4Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"pgdata","mountPath":"/var/lib/postgresql/data"},{"name":"scratch-data","mountPath":"/run"},{"name":"scratch-data","mountPath":"/controller"},{"name":"shm","mountPath":"/dev/shm"},{"name":"pg-wal","mountPath":"/var/lib/postgresql/wal"}],"securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"runAsNonRoot":true,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false,"seccompProfile":{"type":"RuntimeDefault"}}}],"containers":[{"name":"postgres","image":"ghcr.io/cloudnative-pg/postgresql:17.5","command":["/controller/manager","instance","run","--status-port-tls","--log-level=info"],"ports":[{"name":"postgresql","containerPort":5432,"protocol":"TCP"},{"name":"metrics","containerPort":9187,"protocol":"TCP"},{"name":"status","containerPort":8000,"protocol":"TCP"}],"env":[{"name":"PGDATA","value":"/var/lib/postgresql/data/pgdata"},{"name":"POD_NAME","value":"pg-prod-cluster-3"},{"name":"NAMESPACE","value":"pg-01"},{"name":"CLUSTER_NAME","value":"pg-prod-cluster"},{"name":"PSQL_HISTORY","value":"/controller/tmp/.psql_history"},{"name":"PGPORT","value":"5432"},{"name":"PGHOST","value":"/controller/run"},{"name":"TMPDIR","value":"/controller/tmp"}],"resources":{"limits":{"cpu":"2","memory":"4Gi"},"requests":{"cpu":"1","memory":"2Gi"}},"volumeMounts":[{"name":"pgdata","mountPath":"/var/lib/postgresql/data"},{"name":"scratch-data","mountPath":"/run"},{"name":"scratch-data","mountPath":"/controller"},{"name":"shm","mountPath":"/dev/shm"},{"name":"pg-wal","mountPath":"/var/lib/postgresql/wal"}],"livenessProbe":{"httpGet":{"path":"/healthz","port":8000,"scheme":"HTTPS"},"timeoutSeconds":5,"periodSeconds":10},"readinessProbe":{"httpGet":{"path":"/readyz","port":8000,"scheme":"HTTPS"},"timeoutSeconds":5,"periodSeconds":10},"startupProbe":{"httpGet":{"path":"/startupz","port":8000,"scheme":"HTTPS"},"timeoutSeconds":5,"periodSeconds":10,"failureThreshold":360},"securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"runAsNonRoot":true,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false,"seccompProfile":{"type":"RuntimeDefault"}}}],"terminationGracePeriodSeconds":1800,"serviceAccountName":"pg-prod-cluster","securityContext":{"runAsUser":26,"runAsGroup":26,"runAsNonRoot":true,"fsGroup":26,"seccompProfile":{"type":"RuntimeDefault"}},"hostname":"pg-prod-cluster-3","affinity":{"podAntiAffinity":{"preferredDuringSchedulingIgnoredDuringExecution":[{"weight":100,"podAffinityTerm":{"labelSelector":{"matchExpressions":[{"key":"cnpg.io/cluster","operator":"In","values":["pg-prod-cluster"]},{"key":"cnpg.io/podRole","operator":"In","values":["instance"]}]},"topologyKey":"kubernetes.io/hostname"}}]}}}'
    creationTimestamp: "2025-06-02T00:28:23Z"
    labels:
      cnpg.io/cluster: pg-prod-cluster
      cnpg.io/instanceName: pg-prod-cluster-3
      cnpg.io/instanceRole: replica
      cnpg.io/podRole: instance
      role: replica
    name: pg-prod-cluster-3
    namespace: pg-01
    ownerReferences:
    - apiVersion: postgresql.cnpg.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: Cluster
      name: pg-prod-cluster
      uid: 4274250b-740d-4132-915e-608077849f60
    resourceVersion: "15188713"
    uid: a247ef2c-066e-4ec1-b974-555fb3a74629
  spec:
    affinity:
      podAntiAffinity:
        preferredDuringSchedulingIgnoredDuringExecution:
        - podAffinityTerm:
            labelSelector:
              matchExpressions:
              - key: cnpg.io/cluster
                operator: In
                values:
                - pg-prod-cluster
              - key: cnpg.io/podRole
                operator: In
                values:
                - instance
            topologyKey: kubernetes.io/hostname
          weight: 100
    containers:
    - command:
      - /controller/manager
      - instance
      - run
      - --status-port-tls
      - --log-level=info
      env:
      - name: PGDATA
        value: /var/lib/postgresql/data/pgdata
      - name: POD_NAME
        value: pg-prod-cluster-3
      - name: NAMESPACE
        value: pg-01
      - name: CLUSTER_NAME
        value: pg-prod-cluster
      - name: PSQL_HISTORY
        value: /controller/tmp/.psql_history
      - name: PGPORT
        value: "5432"
      - name: PGHOST
        value: /controller/run
      - name: TMPDIR
        value: /controller/tmp
      image: ghcr.io/cloudnative-pg/postgresql:17.5
      imagePullPolicy: IfNotPresent
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /healthz
          port: 8000
          scheme: HTTPS
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 5
      name: postgres
      ports:
      - containerPort: 5432
        name: postgresql
        protocol: TCP
      - containerPort: 9187
        name: metrics
        protocol: TCP
      - containerPort: 8000
        name: status
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /readyz
          port: 8000
          scheme: HTTPS
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 5
      resources:
        limits:
          cpu: "2"
          memory: 4Gi
        requests:
          cpu: "1"
          memory: 2Gi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        privileged: false
        readOnlyRootFilesystem: true
        runAsNonRoot: true
        seccompProfile:
          type: RuntimeDefault
      startupProbe:
        failureThreshold: 360
        httpGet:
          path: /startupz
          port: 8000
          scheme: HTTPS
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 5
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/lib/postgresql/data
        name: pgdata
      - mountPath: /run
        name: scratch-data
      - mountPath: /controller
        name: scratch-data
      - mountPath: /dev/shm
        name: shm
      - mountPath: /var/lib/postgresql/wal
        name: pg-wal
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-lcvdv
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    hostname: pg-prod-cluster-3
    initContainers:
    - command:
      - /manager
      - bootstrap
      - /controller/manager
      - --log-level=info
      image: ghcr.io/cloudnative-pg/cloudnative-pg:1.26.0
      imagePullPolicy: IfNotPresent
      name: bootstrap-controller
      resources:
        limits:
          cpu: "2"
          memory: 4Gi
        requests:
          cpu: "1"
          memory: 2Gi
      securityContext:
        allowPrivilegeEscalation: false
        capabilities:
          drop:
          - ALL
        privileged: false
        readOnlyRootFilesystem: true
        runAsNonRoot: true
        seccompProfile:
          type: RuntimeDefault
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/lib/postgresql/data
        name: pgdata
      - mountPath: /run
        name: scratch-data
      - mountPath: /controller
        name: scratch-data
      - mountPath: /dev/shm
        name: shm
      - mountPath: /var/lib/postgresql/wal
        name: pg-wal
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-lcvdv
        readOnly: true
    nodeName: mgmt-worker-03
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext:
      fsGroup: 26
      runAsGroup: 26
      runAsNonRoot: true
      runAsUser: 26
      seccompProfile:
        type: RuntimeDefault
    serviceAccount: pg-prod-cluster
    serviceAccountName: pg-prod-cluster
    terminationGracePeriodSeconds: 1800
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - name: pgdata
      persistentVolumeClaim:
        claimName: pg-prod-cluster-3
    - emptyDir: {}
      name: scratch-data
    - emptyDir:
        medium: Memory
      name: shm
    - name: pg-wal
      persistentVolumeClaim:
        claimName: pg-prod-cluster-3-wal
    - name: kube-api-access-lcvdv
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2025-06-02T00:28:27Z"
      status: "True"
      type: PodReadyToStartContainers
    - lastProbeTime: null
      lastTransitionTime: "2025-06-02T00:28:27Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2025-06-02T00:28:36Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2025-06-02T00:28:36Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2025-06-02T00:28:23Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://dc1f9414dea907aa325c77173bfb109c213887353077e02c91362ca49496ce39
      image: ghcr.io/cloudnative-pg/postgresql:17.5
      imageID: ghcr.io/cloudnative-pg/postgresql@sha256:857313fcb91856c8eb7e8d281c732174b01b495b0fce2ac81bd464e6162b2260
      lastState: {}
      name: postgres
      ready: true
      restartCount: 0
      started: true
      state:
        running:
          startedAt: "2025-06-02T00:28:27Z"
      volumeMounts:
      - mountPath: /var/lib/postgresql/data
        name: pgdata
      - mountPath: /run
        name: scratch-data
      - mountPath: /controller
        name: scratch-data
      - mountPath: /dev/shm
        name: shm
      - mountPath: /var/lib/postgresql/wal
        name: pg-wal
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-lcvdv
        readOnly: true
        recursiveReadOnly: Disabled
    hostIP: 10.1.45.43
    hostIPs:
    - ip: 10.1.45.43
    initContainerStatuses:
    - containerID: containerd://65bc2865b6c6fee7060715c12fb63ffbfae2b176601d5082eed79c88fdf5ce1e
      image: ghcr.io/cloudnative-pg/cloudnative-pg:1.26.0
      imageID: ghcr.io/cloudnative-pg/cloudnative-pg@sha256:927d7a8a1f32fe4c1e19665dc36d988f26207d7b7fce81b5e5af2ee0cd18aeef
      lastState: {}
      name: bootstrap-controller
      ready: true
      restartCount: 0
      started: false
      state:
        terminated:
          containerID: containerd://65bc2865b6c6fee7060715c12fb63ffbfae2b176601d5082eed79c88fdf5ce1e
          exitCode: 0
          finishedAt: "2025-06-02T00:28:26Z"
          reason: Completed
          startedAt: "2025-06-02T00:28:26Z"
      volumeMounts:
      - mountPath: /var/lib/postgresql/data
        name: pgdata
      - mountPath: /run
        name: scratch-data
      - mountPath: /controller
        name: scratch-data
      - mountPath: /dev/shm
        name: shm
      - mountPath: /var/lib/postgresql/wal
        name: pg-wal
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-lcvdv
        readOnly: true
        recursiveReadOnly: Disabled
    phase: Running
    podIP: 10.244.2.243
    podIPs:
    - ip: 10.244.2.243
    qosClass: Burstable
    startTime: "2025-06-02T00:28:23Z"
kind: List
metadata:
  resourceVersion: ""