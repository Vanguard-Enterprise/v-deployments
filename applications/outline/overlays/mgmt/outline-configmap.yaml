apiVersion: v1
kind: ConfigMap
metadata:
  name: outline-config
  namespace: outline
data:
  #PG SHUTUP
  PGSSLMODE: "disable"
  # Application settings
  DEFAULT_LANGUAGE: "en_US"
  NODE_ENV: "production"
  FORCE_HTTPS: "false"
  ENABLE_UPDATES: "true"
  #WEB_CONCURRENCY: "1"
  #DEBUG: "http"
  #LOG_LEVEL: "info"

  # Rate limiter
  #RATE_LIMITER_ENABLED: "true"
  #RATE_LIMITER_REQUESTS: "1000"
  #RATE_LIMITER_DURATION: "60" # window in seconds

  # Service endpoint
  URL: "http://docs.vng.bet"
  PORT: "80"

  # File storage (S3)
  FILE_STORAGE: "s3"
  AWS_REGION: "us-east-1"
  AWS_S3_UPLOAD_BUCKET_URL: "https://s3.vng.bet"
  AWS_S3_UPLOAD_BUCKET_NAME: "outline"

  # OIDC authentication (Zitadel)
  OIDC_AUTH_URI: "https://accounts.vng.bet/oauth/v2/authorize"
  OIDC_TOKEN_URI: "https://accounts.vng.bet/oauth/v2/token"
  OIDC_USERINFO_URI: "https://accounts.vng.bet/oidc/v1/userinfo"
  OIDC_LOGOUT_URI: "https://accounts.vng.bet/oidc/v1/end_session"
  OIDC_USERNAME_CLAIM: "preferred_username"
  OIDC_DISPLAY_NAME: "OpenID Connect"
  OIDC_SCOPES: "openid profile email"
